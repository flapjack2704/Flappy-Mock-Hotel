{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../hotel-apiservice.service\";\nclass Room {\n  constructor(id, roomNo, roomType, pricePerNight) {\n    this.id = id;\n    this.roomNo = roomNo;\n    this.roomType = roomType;\n    this.pricePerNight = pricePerNight;\n  }\n}\nclass Guest {\n  constructor(id, firstname, lastname, email, phone) {\n    this.id = id;\n    this.firstname = firstname;\n    this.lastname = lastname;\n    this.email = email;\n    this.phone = phone;\n  }\n}\nclass Booking {\n  constructor(id, startDate, endDate, room, roomId, guest, guestId, totalPrice, partySize) {\n    this.id = id;\n    this.startDate = startDate;\n    this.endDate = endDate;\n    this.room = room;\n    this.roomId = roomId;\n    this.guest = guest;\n    this.guestId = guestId;\n    this.totalPrice = totalPrice;\n    this.partySize = partySize;\n  }\n}\nexport class RoomVacanciesComponent {\n  constructor(apiservice) {\n    this.apiservice = apiservice;\n    this.rooms = [];\n    this.roomIds = [];\n    this.bookings = [];\n    this.vacancies = [];\n  }\n  getAllVacancies() {\n    this.apiservice.getAllBookings().subscribe(response => {\n      this.bookings = response;\n      console.log(response);\n    });\n    this.apiservice.getAllRooms().subscribe(response => {\n      this.vacancies = response;\n    });\n    for (let i = 0; i < this.vacancies.length; i++) {\n      if (this.bookings.some(b => b.roomId === this.vacancies[i].roomNo)) {\n        this.vacancies[i].roomNo = 0; // 0 -> don't show room\n      }\n    }\n  }\n\n  printAllRooms() {\n    this.apiservice.getAllRooms().subscribe(response => {\n      this.rooms = response;\n      console.log(response);\n    });\n  }\n}\nRoomVacanciesComponent.ɵfac = function RoomVacanciesComponent_Factory(t) {\n  return new (t || RoomVacanciesComponent)(i0.ɵɵdirectiveInject(i1.HotelAPIserviceService));\n};\nRoomVacanciesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RoomVacanciesComponent,\n  selectors: [[\"app-room-vacancies\"]],\n  decls: 18,\n  vars: 1,\n  consts: [[\"id\", \"allCurrentVacancies\", 3, \"click\"], [\"id\", \"allCurrentVacantSingle\"], [\"id\", \"allRooms\", 3, \"click\"]],\n  template: function RoomVacanciesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Room Vacancy Checker\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"table\")(3, \"tr\")(4, \"td\")(5, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function RoomVacanciesComponent_Template_button_click_5_listener() {\n        return ctx.getAllVacancies();\n      });\n      i0.ɵɵtext(6, \"Check All Currently Vacant Rooms\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(7, \"tr\")(8, \"td\");\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"tr\")(11, \"td\")(12, \"button\", 1);\n      i0.ɵɵtext(13, \"Check Currently Vacant Single Rooms\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(14, \"tr\")(15, \"td\")(16, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function RoomVacanciesComponent_Template_button_click_16_listener() {\n        return ctx.printAllRooms();\n      });\n      i0.ɵɵtext(17, \"get alll roooms\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(ctx.vacancies);\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["Room","constructor","id","roomNo","roomType","pricePerNight","Guest","firstname","lastname","email","phone","Booking","startDate","endDate","room","roomId","guest","guestId","totalPrice","partySize","RoomVacanciesComponent","apiservice","rooms","roomIds","bookings","vacancies","getAllVacancies","getAllBookings","subscribe","response","console","log","getAllRooms","i","length","some","b","printAllRooms","i0","ɵɵdirectiveInject","i1","HotelAPIserviceService","selectors","decls","vars","consts","template","RoomVacanciesComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","RoomVacanciesComponent_Template_button_click_5_listener","RoomVacanciesComponent_Template_button_click_16_listener","ɵɵadvance","ɵɵtextInterpolate"],"sources":["C:\\Users\\flapj\\OneDrive\\Documents\\CSharpCodes\\Flappy-Mock-Hotel\\FlappyMockHotelUI\\src\\app\\room-vacancies\\room-vacancies.component.ts","C:\\Users\\flapj\\OneDrive\\Documents\\CSharpCodes\\Flappy-Mock-Hotel\\FlappyMockHotelUI\\src\\app\\room-vacancies\\room-vacancies.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { HotelAPIserviceService } from '../hotel-apiservice.service';\n\npublic class Room {\r\n\r\n    constructor(\r\n        public id: number,\r\n        public roomNo: number,\r\n        public roomType: number,\r\n        public pricePerNight: number,\r\n    ) { }\r\n\r\n}\n\ninterface RoomInterface {\n    id: number;\r\n    roomNo: number;\r\n    roomType: number;\r\n    pricePerNight: number;\r\n}\n\nclass Guest {\n    constructor(\n        public id: string,\n        public firstname: string,\n        public lastname: string,\n        public email: string,\n        public phone: string,\n\n\n    ) { }\n}\n\nclass Booking {\n    constructor(\r\n        public id: number,\r\n        public startDate: string,\r\n        public endDate: string,\r\n        public room: Room,\r\n        public roomId: number,\r\n        public guest: Guest,\r\n        public guestId: number,\r\n        public totalPrice: number,\r\n        public partySize: number\r\n    ) { }\r\n}\n\ninterface BookingInterface {\n    id: number,\r\n    startDate: string,\r\n    endDate: string,\r\n    room: Room,\r\n    roomId: number,\r\n    guest: Guest,\r\n    guestId: number,\r\n    totalPrice: number,\r\n    partySize: number\r\n}\n\n@Component({\n  selector: 'app-room-vacancies',\n  templateUrl: './room-vacancies.component.html',\n  styleUrls: ['./room-vacancies.component.css']\n})\nexport class RoomVacanciesComponent {\n    public rooms: Room[] = [];\n    roomIds: number[] = [];\n    bookings: Booking[] = [];\n    public vacancies: Room[] = [];\n\n    constructor(\n        private apiservice: HotelAPIserviceService\r\n    ) { }\n    \n    public getAllVacancies() {\n        \n\n        this.apiservice.getAllBookings().subscribe(response => {\r\n            this.bookings = response;\r\n            console.log(response);\r\n        })\r\n\r\n        this.apiservice.getAllRooms().subscribe(response => {\n            this.vacancies = response;\r\n        })\r\n\r\n        for (let i = 0; i < this.vacancies.length; i++) {\r\n            if (this.bookings.some(b => b.roomId === this.vacancies[i].roomNo)) {\r\n                this.vacancies[i].roomNo = 0;  // 0 -> don't show room\r\n            } \r\n        }\r\n    }\n\n    public printAllRooms() {\n        this.apiservice.getAllRooms().subscribe(response => {\r\n            this.rooms = response\r\n            console.log(response);\r\n        })\r\n    }\n    \n}\n","<h2>Room Vacancy Checker</h2>\n\n\n<table>\n    <tr>\n        <td><button (click)=\"getAllVacancies()\" id=\"allCurrentVacancies\">Check All Currently Vacant Rooms</button></td>\n    </tr>\n    <tr>\n        <td>{{ vacancies }}</td>\n    </tr>\n    <tr>\n        <td><button id=\"allCurrentVacantSingle\">Check Currently Vacant Single Rooms</button></td>\n    </tr>\n    <tr>\n        <td><button (click)=\"printAllRooms()\" id=\"allRooms\">get alll roooms</button></td>\n    </tr>\n</table>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}